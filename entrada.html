<!DOCTYPE html>
<html>

<head>
    <title>Pintura Numerada</title>
    <link rel="stylesheet" href="styles/lib/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel='stylesheet' href='styles/main.css' />
    <link href="images/arte_descomplicada_logo_ico.png" rel="shortcut icon" type="image/x-icon">
</head>

<body>
    <!--  -->
    <div id="Banner" class="banner"
        style=" display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; min-height: 48px; padding: 5px 3%; -webkit-box-pack: center; -webkit-justify-content: center; -ms-flex-pack: center; justify-content: center; -webkit-box-align: center; -webkit-align-items: center; -ms-flex-align: center; align-items: center; background-color: #35b8be; background-image: url(../images/Banner-Wave.svg); background-position: 0% 50%; background-size: contain; background-repeat: no-repeat; color: #fff; font-size: 15px; ">
        <div class="banner-wrap">
            <div class="notice-text">Está em busca de uma atividade relaxante e expressiva, essa é a escolha certa para
                você! <a href="/arteDescomplicada/entrada.html" class="white-link">Solicite agora</a></div>
        </div>
    </div>
    </div>
    <div data-animation="default" class="navbar w-nav" data-easing2="ease" data-easing="ease" data-collapse="medium"
        data-w-id="33c883c6-4afc-cc73-3bca-d2857a9d4bc2" role="banner" data-duration="400" id="Navigation">
        <div class="navigation-container"
            style="{ display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; width: 100%; max-width: 1200px; margin-right: auto; margin-left: auto; -webkit-box-pack: justify; -webkit-justify-content: space-between; -ms-flex-pack: justify; justify-content: space-between; }; ">
            <div class="navigation-left"><a href="/" aria-current="page" class="brand w-nav-brand w--current"><img
                        src="images/arte_descomplicada_logo.svg" width="160" alt=""></a></div>
            <div class="navigation-right">
                <nav role="navigation" class="nav-menu w-nav-menu" style=" background: #FFF; display: contents; ">
                    <a href="/arteDescomplicadaindex.html" class="nav-link w-nav-link">Home</a>
                    <a href="/arteDescomplicadaentrada.html" aria-current="page" class="nav-link w-nav-link w--current">Entrada</a>
                    <a href="/arteDescomplicadafaq.html" class="nav-link w-nav-link">FAQ</a>
                </nav>
            </div>
        </div>
    </div>
    <!--  -->
    <div class="container">
        <div class="row">
            <h2> Pintura Numerada </h2>Cole da área de transferência (ctrl+v) para alterar a imagem (ou procure um
            arquivo
            <span> <input id="file" type="file" accept="image/x-png,image/gif,image/jpeg"></input>). Imagens grandes são
                muito lentas para processar
                no entanto.</span>
            <br />
            <span>Imagens de Exemplo:
                <a id="lnkTrivial" href="#">Simples</a> -
                <a id="lnkSmall" href="#">Pequena</a> -
                <a id="lnkMedium" href="#">Média</a>
            </span>
        </div>
        <div class="row">
            <div class="col s12">
                <ul class="tabs">
                    <li class="tab col s2">
                        <a href="#input-pane">Entrada</a>
                    </li>
                    <li class="tab col s2">
                        <a href="#options-pane">Opções</a>
                    </li>
                </ul>
            </div>
            <div id="input-pane" class="col s12">
                <canvas id="canvas"></canvas>
                <img id="imgTrivial" crossorigin="anonymous" src="https://i.imgur.com/o5CqO57.png"
                    style="display:none" />
                <img id="imgSmall" crossorigin="anonymous"
                    src="https://github.com/harrisalexandre/pinturapornumeros/assets/50559815/bdb0a3ce-1ad5-4d2f-a766-e42063d20411"
                    style="display:none" />

                <img id="imgMedium" crossorigin="anonymous"
                    src="https://github.com/harrisalexandre/pinturapornumeros/assets/50559815/4eead9ba-cc84-449e-ba54-786107603bd8"
                    style="display:none" />
            </div>
            <!-- Eu sou péssimo em materializar design css, caso você ainda não tenha notado -->
            <div id="options-pane" class="col s12">
                <ul class="collection">
                    <li class="collection-item">
                        <div class="row">
                            <div class="col s3" style="margin-top: 34px;">
                                <label>
                                    <input id="chkResizeImage" type="checkbox" checked="checked" />
                                    <span>Redimensionar imagem maior que
                                        <i class="material-icons tooltipped"
                                            data-tooltip="Se marcada e a imagem de entrada for maior que as dimensões fornecidas, ela será redimensionada para caber, mas manterá sua proporção.">info</i>
                                    </span>
                                </label>
                            </div>
                            <div class="col s2">
                                <label for="txtResizeWidth">largura</label>
                                <input id="txtResizeWidth" type="number" value="1024" min="1" class="validate">
                            </div>
                            <div class="col s2">
                                <label for="txtResizeHeight">altura</label>
                                <input id="txtResizeHeight" type="number" value="1024" min="1" class="validate">
                            </div>
                        </div>
                    </li>
                    <li class="collection-item">
                        <div class="row">
                            <div class="input-field col s2">
                                <input id="txtNrOfClusters" type="number" value="16" min="1" class="validate">
                                <label for="txtNrOfClusters">Número de cores
                                    <i class="material-icons tooltipped"
                                        data-tooltip="O número de cores para quantizar a imagem.">info</i>
                                </label>
                            </div>

                            <div class="input-field col s2">
                                <input id="txtClusterPrecision" type="number" value="1" min="1" step="0.05"
                                    class="validate">
                                <label for="txtClusterPrecision">Precisão do agrupamento
                                    <i class="material-icons tooltipped"
                                        data-tooltip="A distância delta limite do agrupamento k-means a ser alcançada antes de parar. Ter um valor maior acelerará o agrupamento, mas poderá produzir clusters abaixo do ideal.">info</i>
                                </label>
                            </div>

                            <div class="input-field col s2">
                                <input id="txtRandomSeed" type="number" value="0" min="0" step="1" class="validate">
                                <label for="txtRandomSeed">Semente aleatória
                                    <i class="material-icons tooltipped"
                                        data-tooltip="TA semente a ser usada para o gerador de números aleatórios escolher os centróides iniciais para k-means clusering. Usar a mesma semente garante que você obterá sempre o mesmo resultado.">info</i>
                                </label>
                            </div>
                        </div>
                    </li>
                    <li class="collection-item">
                        <div class="row">

                            <div class="col s3">
                                <label>Agrupando espaço de cores
                                    <i class="material-icons tooltipped"
                                        data-tooltip="O espaço de cores no qual aplicar o agrupamento.">info</i>
                                </label>
                            </div>
                            <div class="col s2">
                                <label>
                                    <input id="optColorSpaceRGB" name="colorspace" type="radio" checked />
                                    <span>RGB</span>
                                </label>
                            </div>
                            <div class="col s2">
                                <label>
                                    <input id="optColorSpaceHSL" name="colorspace" type="radio" />
                                    <span>HSL</span>
                                </label>
                            </div>
                            <div class="col s2">
                                <label>
                                    <input id="optColorSpaceLAB" name="colorspace" type="radio" />
                                    <span>Lab</span>
                                </label>
                            </div>

                            <div class="col s12">
                                <label for="txtKMeansColorRestrictions">Restringir cores de agrupamento
                                    <i class="material-icons tooltipped"
                                        data-tooltip="Especifique quais cores devem ser usadas, uma por linha no formato 'r,g,b'. Use // como comentário. Se nenhuma cor for especificada, nenhuma restrição será aplicada. Útil se você tiver apenas algumas cores de tinta em mãos.">info</i>
                                </label>
                                <textarea id="txtKMeansColorRestrictions" class="materialize-textarea validate">
//0,0,0
//255,255,255
</textarea>
                            </div>
                        </div>
                    </li>
                    <li class="collection-item">
                        <div class="row">
                            <div class="input-field col s4">
                                <input id="txtNarrowPixelStripCleanupRuns" type="number" value="3" min="0"
                                    class="validate">
                                <label for="txtNarrowPixelStripCleanupRuns">Número de execuções para limpeza de pixels
                                    estreitos.
                                    <i class="material-icons tooltipped"
                                        data-tooltip="A limpeza de pixels estreitos remove faixas de linhas de pixels únicos, o que faria com que algumas facetas tivessem alguns segmentos de bordas estreitos demais para serem úteis. A remoção de pequenas facetas pode introduzir novas faixas estreitas de pixels, então isso é repetido em algumas execuções iterativas.">info</i>
                                </label>
                            </div>
                            <div class="input-field col s4">
                                <input id="txtRemoveFacetsSmallerThan" type="number" value="20" min="1"
                                    class="validate">
                                <label for="txtRemoveFacetsSmallerThan">Remova pequenas facetas menores que (pixels)
                                    <i class="material-icons tooltipped"
                                        data-tooltip="Remove quaisquer facetas menores que a quantidade especificada de pixels. Reduzir o valor criará resultados mais detalhados, mas pode ser muito mais difícil de pintar devido ao seu tamanho.">info</i>
                                </label>
                            </div>
                            <div class="input-field col s4">
                                <input id="txtMaximumNumberOfFacets" type="number" value="100000" min="1"
                                    class="validate">
                                <label for="txtMaximumNumberOfFacets">Número máximo de facetas
                                    <i class="material-icons tooltipped"
                                        data-tooltip="Se houver mais facetas do que o número máximo fornecido, continue removendo as menores facetas até atingir o limite">info</i>
                                </label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s6">
                                <div class="row">
                                    <div class="col s4">
                                        <label>Ordem de remoção de faceta pequena
                                            <i class="material-icons tooltipped"
                                                data-tooltip="Do maior para o menor evitará que os limites deformem as formas porque as facetas menores atuam como pontos de ancoragem nas bordas, mas podem ser consideravelmente mais lentas">info</i>
                                        </label>
                                    </div>
                                    <div class="col s4">
                                        <label>
                                            <input id="optFacetRemovalLargestToSmallest" name="smallfacetremovalorder"
                                                type="radio" checked />
                                            <span>Do maior para o menor</span>
                                        </label>
                                    </div>
                                    <div class="col s4">
                                        <label>
                                            <input id="optFacetRemovalSmallestToLargest" name="smallfacetremovalorder"
                                                type="radio" />
                                            <span>Do menor para o maior</span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </li>
                    <li class="collection-item">
                        <div class="row">
                            <div class="input-field col s5">
                                <input id="txtNrOfTimesToHalveBorderSegments" type="number" value="2" min="0"
                                    class="validate">
                                <label for="txtNrOfTimesToHalveBorderSegments">Quantidade de vezes para reduzir pela
                                    metade o segmento de fronteira
                                    complexidade)
                                    <i class="material-icons tooltipped"
                                        data-tooltip="Reduzir a quantidade de pontos em um segmento de borda (usando a redução de wavelet haar) suavizará mais a curva quadrática, mas com perda de detalhes.<br/>Um segmento (borda compartilhada com uma faceta) sempre manterá seu ponto inicial e final.">info</i>
                                </label>
                            </div>
                        </div>
                    </li>
                </ul>

            </div>

            <div class="col s12">
                <a class="waves-effect waves-light btn" id="btnProcess">Processar imagem</a>
            </div>
        </div>

        <div class="row">

            <div class="col s2">
                <div class="status kMeans">
                    K-means clustering
                    <div class="progress">
                        <div id="statusKMeans" class="determinate" style="width: 0%"></div>
                    </div>
                </div>
            </div>
            <div class="col s2">
                <div class="status facetBuilding">
                    Construção de facetas
                    <div class="progress">
                        <div id="statusFacetBuilding" class="determinate" style="width: 0%"></div>
                    </div>
                </div>
            </div>
            <div class="col s2">
                <div class="status facetReduction">
                    Ajuste de pequenas facetas
                    <div class="progress">
                        <div id="statusFacetReduction" class="determinate" style="width: 0%"></div>
                    </div>
                </div>
            </div>
            <div class="col s2">
                <div class="status facetBorderPath">
                    Detecção de bordas
                    <div class="progress">
                        <div id="statusFacetBorderPath" class="determinate" style="width: 0%"></div>
                    </div>
                </div>
            </div>
            <div class="col s2">
                <div class="status facetBorderSegmentation">
                    Segmentação de bordas
                    <div class="progress">
                        <div id="statusFacetBorderSegmentation" class="determinate" style="width: 0%"></div>
                    </div>
                </div>
            </div>
            <div class="col s2">
                <div class="status facetLabelPlacement">
                    Posicionamento da numeração
                    <div class="progress">
                        <div id="statusFacetLabelPlacement" class="determinate" style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col s2">
                <div class="status SVGGenerate">
                    Geração do SVG
                    <div class="progress">
                        <div id="statusSVGGenerate" class="determinate" style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col s12">
                <ul id="tabsOutput" class="tabs">
                    <li class="tab col s2">
                        <a href="#kmeans-pane">Imagem quantizada</a>
                    </li>
                    <li class="tab col s2">
                        <a href="#reduction-pane">Redução de faceta</a>
                    </li>
                    <li class="tab col s2">
                        <a href="#borderpath-pane">Rastreamento de borda</a>
                    </li>
                    <li class="tab col s2">
                        <a href="#bordersegmentation-pane">Segmentação de borda</a>
                    </li>
                    <li class="tab col s2">
                        <a href="#labelplacement-pane">Posicionamento da numeração</a>
                    </li>
                    <li class="tab col s2">
                        <a href="#output-pane">Saída</a>
                    </li>
                    <li class="tab col s2">
                        <a href="#log-pane">Log</a>
                    </li>
                </ul>
            </div>
            <div id="kmeans-pane" class="col s12">
                <canvas id="cKMeans"></canvas>
            </div>
            <div id="reduction-pane" class="col s12">
                <canvas id="cReduction"></canvas>
            </div>
            <div id="borderpath-pane" class="col s12">
                <canvas id="cBorderPath"></canvas>
            </div>
            <div id="bordersegmentation-pane" class="col s12">
                <canvas id="cBorderSegmentation"></canvas>
            </div>
            <div id="labelplacement-pane" class="col s12">
                <canvas id="cLabelPlacement"></canvas>
            </div>

            <div id="output-pane" class="col s12">
                <div class="row">
                    <div class="col s2">
                        <label>Opções de renderização SVG</label>
                    </div>
                    <div class="col s2">
                        <label>
                            <input id="chkShowLabels" type="checkbox" checked="checked" />
                            <span>Mostrar rótulos</span>
                        </label>
                    </div>
                    <div class="col s2">
                        <label>
                            <input id="chkFillFacets" type="checkbox" checked="checked" />
                            <span>Preencher facetas</span>
                        </label>
                    </div>
                    <div class="col s2">

                        <label>
                            <input id="chkShowBorders" type="checkbox" checked="checked" />
                            <span>Mostrar bordas</span>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s3">
                        <div class="input-field">
                            <input placeholder="SVG Size multiplier" id="txtSizeMultiplier" type="number" value="3"
                                min="1" class="validate">
                            <label for="txtSizeMultiplier">Multiplicador de tamanho SVG
                                <i class="material-icons tooltipped"
                                    data-tooltip="Aumenta o tamanho do SVG em comparação com a imagem original, útil quando os rótulos não cabem dentro dos pequenos segmentos">info</i>
                            </label>
                        </div>
                    </div>
                    <div class="col s3">
                        <div class="input-field">
                            <input placeholder="Label font size" id="txtLabelFontSize" type="number" value="50" min="1"
                                max="100">
                            <label for="txtLabelFontSize">Tamanho da fonte da etiqueta
                                <i class="material-icons tooltipped"
                                    data-tooltip="Tamanho da fonte dos rótulos de números coloridos em cada faceta, em porcentagem em relação ao maior círculo encontrado dentro de uma faceta.">info</i>
                            </label>
                        </div>
                    </div>
                    <div class="col s3">
                        <div class="input-field">
                            <input placeholder="Label font size" id="txtLabelFontColor" type="text" value="#000">
                            <label for="txtLabelFontColor">Cor da fonte do rótulo
                                <i class="material-icons tooltipped"
                                    data-tooltip="Cor da fonte dos rótulos numéricos coloridos em cada faceta">info</i>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div id="palette" class="palette">

                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        <div id="svgContainer">

                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col s3">
                        <a class="waves-effect waves-light btn" id="btnDownloadSVG">Download SVG</a>
                    </div>
                    <div class="col s3">
                        <a class="waves-effect waves-light btn" id="btnDownloadPNG">Download PNG</a>
                    </div>
                    <div class="col s3">
                        <a class="waves-effect waves-light btn" id="btnDownloadPalettePNG">Download paletta</a>
                    </div>
                </div>
            </div>

            <div id="log-pane" class="col s12">
                <div class="row">
                    <div class="col s12">
                        <div id="log"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer"
        style="{ position: relative; display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; overflow: hidden; padding: 15px 0% 0px; -webkit-box-orient: vertical; -webkit-box-direction: normal; -webkit-flex-direction: column; -ms-flex-direction: column; flex-direction: column; -webkit-box-pack: center; -webkit-justify-content: center; -ms-flex-pack: center; justify-content: center; -webkit-box-align: center; -webkit-align-items: center; -ms-flex-align: center; align-items: center; background-color: #f5fbfc; background-image: url(../images/Pattern-Footer.svg); background-position: 0% 100%; background-size: contain; background-repeat: no-repeat; text-decoration: none; }; ">
        <div class="container">
            <div class="w-layout-grid footer-grid">
                <div id="w-node-_67f7db32-28d2-9f37-8b84-a159dcc6da5a-dcc6da57" class="footer-column"><img
                        src="images/arte_descomplicada_logo.svg" width="150" alt="" class="footer-logo">
                    <p>Está em busca de uma atividade relaxante? Essa é a escolha certa para você!</p>
                </div>
                <div class="footer-column">
                    <a href="/arteDescomplicada/index.html" aria-current="page" class="footer-link w--current">Home</a>
                </div>
                <div class="footer-column">
                    <a href="/arteDescomplicada/entrada.html" class="footer-link">Entrada</a>
                </div>
                <div class="footer-column">
                    <a href="/arteDescomplicada/faq.html" class="footer-link">FAQ</a>
                </div>
            </div>
        </div>
        <script src="scripts/lib/saveSvgAsPng.js"></script>
        <script src="scripts/lib/require.js"></script>
        <script src="scripts/lib/jquery-1.11.0.min.js"></script>
        <script src="scripts/lib/materialize.min.js"></script>
        <script src="scripts/main.js"></script>
        <script>
            requirejs(['main'], function (MyApp) {

            });
        </script>
        <!-- Code injected by live-server -->
        <script>
            // <![CDATA[  <-- For SVG support
            if ('WebSocket' in window) {
                (function () {
                    function refreshCSS() {
                        var sheets = [].slice.call(document.getElementsByTagName("link"));
                        var head = document.getElementsByTagName("head")[0];
                        for (var i = 0; i < sheets.length; ++i) {
                            var elem = sheets[i];
                            var parent = elem.parentElement || head;
                            parent.removeChild(elem);
                            var rel = elem.rel;
                            if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
                                var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
                                elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
                            }
                            parent.appendChild(elem);
                        }
                    }
                    var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
                    var address = protocol + window.location.host + window.location.pathname + '/ws';
                    var socket = new WebSocket(address);
                    socket.onmessage = function (msg) {
                        if (msg.data == 'reload') window.location.reload();
                        else if (msg.data == 'refreshcss') refreshCSS();
                    };
                    if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
                        console.log('Live reload enabled.');
                        sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
                    }
                })();
            }
            else {
                console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
            }
            // ]]>
        </script>


    </div>

    <div style="position:absolute;top:3px;right:3px;font-size:0.7em">
        Criado por
        <a href="https://www.instagram.com/_harrisalexandre/">_harrisalexandre</a>
    </div>

    <script src="scripts/lib/saveSvgAsPng.js"></script>
    <script src="scripts/lib/require.js"></script>
    <script src="scripts/lib/jquery-1.11.0.min.js"></script>
    <script src="scripts/lib/materialize.min.js"></script>
    <script src='scripts/main.js'></script>
    <script>
        requirejs(['main'], function (MyApp) {

        });
    </script>
</body>

</html>
